{
  "AWSEBDockerrunVersion": "2",
  "volumes": [
    {
      "name": "jolokia",
      "host": {
        "sourcePath": "/usr/share/java/jolokia"
      }
    },
    {
      "name": "telegraf-config",
      "host": {
        "sourcePath": "/etc/telegraf"
      }
    },
    {
      "name": "telegraf-statsd-config",
      "host": {
        "sourcePath": "/etc/telegraf-statsd"
      }
    },
    {
      "name": "host-proc",
      "host": {
        "sourcePath": "/proc"
      }
    },
    {
      "name": "host-sys",
      "host": {
        "sourcePath": "/sys"
      }
    },
    {
      "name": "docker-sock",
      "host": {
        "sourcePath": "/var/run/docker.sock"
      }
    }
  ],
  "containerDefinitions":
   [
     {
       "name": "flo-notification-router",
       "image": "098786959887.dkr.ecr.us-west-2.amazonaws.com/flo-notification-router:latest",
       "entryPoint": [
         "tail",
         "-f",
         "/dev/null"
       ],
       "essential": true,
       "memory": 64
     },
     {
       "name": "flo-notification-router-runner",
       "image": "openjdk:10",
       "volumesFrom": [
         {
           "sourceContainer": "flo-notification-router"
         }
       ],
       "workingDirectory": "/app",
       "entryPoint": [
         "sh",
         "-c",
         "java $JAVA_OPTS -jar app.jar"
       ],
       "portMappings": [
         {
           "hostPort": 80,
           "containerPort": 80
         },
         {
           "hostPort": 8778,
           "containerPort": 8778
         },
         {
           "hostPort": 49999,
           "containerPort": 49999
         },
         {
           "hostPort": 8000,
           "containerPort": 8000
         }
       ],
       "mountPoints": [ {
         "sourceVolume": "jolokia",
         "containerPath": "/var/lib/jolokia",
         "readOnly": true
       }
       ],
       "essential": true,
       "memory": 4096
     },
     {
       "name": "telegraf",
       "image": "artemz/telegraf:1.9.2",
       "memory": 256,
       "essential": false,
       "mountPoints": [
         {
           "sourceVolume": "telegraf-config",
           "containerPath": "/etc/telegraf",
           "readOnly": true
         },
         {
           "sourceVolume": "host-proc",
           "containerPath": "/host/proc",
           "readOnly": true
         },
         {
           "sourceVolume": "host-sys",
           "containerPath": "/host/sys",
           "readOnly": true
         },
         {
           "sourceVolume": "docker-sock",
           "containerPath": "/var/run/docker.sock"
         }
       ],
       "environment": [
         {
           "name": "HOST_PROC",
           "value": "/host/proc"
         },
         {
           "name": "HOST_SYS",
           "value": "/host/sys"
         }
       ],
       "links": [
         "flo-notification-router-runner:runner"
       ]
     },
     {
       "name": "telegraf-statsd",
       "image": "telegraf:1.9.2",
       "memory": 128,
       "essential": false,
       "mountPoints": [
         {
           "sourceVolume": "telegraf-statsd-config",
           "containerPath": "/etc/telegraf",
           "readOnly": true
         }
       ]
     }
   ]
}
