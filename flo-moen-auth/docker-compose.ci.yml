#version: "3.8"

#CI overrides
services:
  app:
    image: ${APP}:${BUILD_TAG}
    environment:
      ENV: ci
      FLO_LOCAL_DEBUG: ""
      #disable trace logs, set to 0 to enable
      FLO_LOG_MIN_LEVEL: 1
    depends_on:
      postgres:
        condition: service_started
      redis:
        condition: service_started
      kafka:
        condition: service_started

  redis:
    logging:
      driver: none

  postgres:
    logging:
      driver: none

  zookeeper:
    logging:
      driver: none

  kafka:
#    #disable this for ci, we don't need it
#    deploy:
#      replicas: 0
    logging:
      driver: none