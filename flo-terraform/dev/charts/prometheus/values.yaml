---
alertmanager:
  image:
    repository: nexus.flotech.co:8000/prom/alertmanager
  enabled: false
server:
  global:
    scrape_timeout: 30s
  image:
    repository: nexus.flotech.co:8000/prom/prometheus
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-issuer
      kubernetes.io/ingress.class: nginx
      kubernetes.io/tls-acme: "true"
      nginx.ingress.kubernetes.io/whitelist-source-range: >-
        10.0.0.0/8,104.154.215.108/32,104.154.73.15/32,104.196.187.103/32,104.196.187.103/32,
        34.66.135.187/32,34.66.82.105/32,34.67.32.253/32,34.67.61.75/32,34.68.229.79/32,
        34.68.244.46/32,34.68.83.43/32,34.69.111.215/32,34.69.65.175/32,34.70.247.232/32,
        34.71.145.245/32,34.71.152.20/32,34.71.159.145/32,34.71.215.109/32,34.71.38.173/32,
        34.72.163.126/32,34.72.224.67/32,35.184.112.179/32,35.184.203.1/32,35.184.82.156/32,
        35.192.14.84/32,35.202.126.57/32,35.202.76.74/32,35.222.158.165/32,35.222.83.115/32,
        35.223.156.39/32,35.223.253.104/32,35.224.156.39/32,35.224.241.132/32,35.224.62.148/32,
        35.224.87.190/32,35.225.196.236/32,35.225.91.170/32,35.226.227.166/32,35.226.44.6/32,
        35.226.77.201/32,35.232.163.40/32,35.232.165.163/32,35.232.31.131/32,35.232.72.188/32,
        35.233.198.143/32,35.239.141.38/32,35.239.183.253/32,35.239.213.115/32,35.239.228.168/32,
        35.239.233.2/32,35.239.94.5/32,35.246.7.173/32,52.189.69.217/32,66.215.231.234/32,
        82.208.114.0/23,34.218.189.155/32,52.43.83.183/32,52.43.85.237/32,
        23.236.55.100/32,34.121.131.55/32,34.121.193.43/32,34.121.197.22/32,34.121.201.223/32,
        34.121.32.138/32,34.122.201.10/32,34.122.217.27/32,34.122.25.189/32,34.122.39.130/32,
        34.123.137.154/32,34.123.216.236/32,34.66.248.4/32,34.66.49.190/32,34.66.56.141/32,
        34.67.160.129/32,34.68.116.158/32,34.68.98.63/32,34.69.204.106/32,34.69.65.175/32,
        34.70.10.78/32,34.70.174.12/32,34.70.178.49/32,34.70.19.238/32,34.70.43.156/32,
        34.71.105.110/32,34.71.159.145/32,34.71.21.236/32,34.71.223.58/32,34.71.245.127/32,
        34.71.97.66/32,34.72.147.218/32,34.72.224.67/32,34.72.240.165/32,34.72.77.151/32,
        34.75.233.178/32,34.83.0.45/32,35.184.23.28/32,35.184.3.239/32,35.184.89.210/32,
        35.184.97.84/32,35.188.111.61/32,35.188.20.238/32,35.188.223.169/32,35.192.150.184/32,35.192.170.84/32,35.192.52.169/32,
        35.194.53.190/32,35.195.32.148/32,35.202.40.138/32,35.202.43.115/32,35.202.76.74/32,
        35.205.153.2/32,35.222.121.249/32,35.222.253.67/32,35.222.54.147/32,35.223.104.30/32,
        35.224.1.28/32,35.224.156.39/32,35.224.199.71/32,35.225.105.116/32,35.225.18.242/32,
        35.225.46.237/32,35.227.186.76/32,35.232.72.188/32,35.238.166.119/32,35.238.168.12/32,
        35.238.231.51/32,35.238.91.227/32,35.239.177.56/32,35.239.61.132/32,35.239.94.5/32,
        35.240.3.33/32,52.189.69.217/32,104.154.148.31/32,104.154.179.160/32,104.154.18.168/32,
        104.154.73.15/32,104.197.149.206/32,104.197.217.8/32,104.197.50.166/32,104.197.9.158/32,
        107.178.208.235/32,146.148.114.193/32,146.148.50.186/32

    hosts:
      - prometheus.flocloud.co
    tls:
      - secretName: prometheus
        hosts:
          - prometheus.flocloud.co

kubeStateMetrics:
  ## If false, kube-state-metrics sub-chart will not be installed
  ##
  enabled: false

configmapReload:
  prometheus:
    ## If false, the configmap-reload container will not be deployed
    ##
    enabled: false

nodeExporter:
  image:
    repository: nexus.flotech.co:8000/prom/node-exporter

pushgateway:
  image:
    repository: nexus.flotech.co:8000/prom/pushgateway

serverFiles:

  ## Alerts configuration
  ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/
  alerting_rules.yml: {}
  # groups:
  #   - name: Instances
  #     rules:
  #       - alert: InstanceDown
  #         expr: up == 0
  #         for: 5m
  #         labels:
  #           severity: page
  #         annotations:
  #           description: '{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 5 minutes.'
  #           summary: 'Instance {{ $labels.instance }} down'
  ## DEPRECATED DEFAULT VALUE, unless explicitly naming your files, please use alerting_rules.yml
  alerts: {}

  ## Records configuration
  ## Ref: https://prometheus.io/docs/prometheus/latest/configuration/recording_rules/
  recording_rules.yml: {}
  ## DEPRECATED DEFAULT VALUE, unless explicitly naming your files, please use recording_rules.yml
  rules: {}

  prometheus.yml:
    rule_files:
      - /etc/config/recording_rules.yml
      - /etc/config/alerting_rules.yml
      ## Below two files are DEPRECATED will be removed from this default values file
      - /etc/config/rules
      - /etc/config/alerts

    scrape_configs:
      - job_name: prometheus
        static_configs:
          - targets:
              - localhost:9090

      - job_name: 'kafka-minion'
        scrape_interval: 1m
        scrape_timeout: 30s
        static_configs:
          - targets: ['kafka-minion.prometheus.svc.cluster.local:8080']

      - job_name: 'sql-exporter'
        scrape_interval: 1m
        scrape_timeout: 30s
        static_configs:
          - targets: ['prometheus-sql-exporter.prometheus.svc.cluster.local']

      - job_name: nexus
        scrape_interval: 1m
        scrape_timeout: 30s
        static_configs:
          - targets:
              - nexus-exporter.prometheus.svc.cluster.local

imagePullSecrets:
  - name: nexus-secret
